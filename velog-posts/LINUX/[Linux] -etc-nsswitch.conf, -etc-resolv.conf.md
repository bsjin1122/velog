<h1 id="etcnsswitchconf">/etc/nsswitch.conf</h1>
<ul>
<li>ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ Name Service ì„¤ì •ì„ ë‹´ë‹¹í•˜ëŠ” íŒŒì¼ì´ë‹¤. </li>
<li>ì´ íŒŒì¼ì€ ì¸ì¦ ì •ë³´, ë„¤íŠ¸ì›Œí¬ í˜¸ìŠ¤íŠ¸ ì´ë¦„, ê·¸ë£¹ ì •ë³´ ë“±ê³¼ ê°™ì€ ì´ë¦„ ê´€ë ¨ ë°ì´í„°ê°€ ì–´ë””ì—ì„œ ê²€ìƒ‰ë ì§€ë¥¼ ì •ì˜í•œë‹¤.</li>
</ul>
<h3 id="ì—­í• ">ì—­í• </h3>
<ul>
<li>Name Service Switch</li>
<li>ì‹œìŠ¤í…œì´ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ ì–´ë””ì—ì„œ ì°¾ì„ì§€ ì •ì˜<ul>
<li>ì‚¬ìš©ì ê³„ì • ì •ë³´(passwd)</li>
<li>ê·¸ë£¹ ì •ë³´(group)</li>
<li>í˜¸ìŠ¤íŠ¸ ì´ë¦„(hosts)</li>
<li>ë„¤íŠ¸ì›Œí¬ ì •ë³´(networks)</li>
<li>ì„œë¹„ìŠ¤(services)</li>
<li>ex) ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œì— ë¡œê·¸ì¸í•  ë•Œ, ì‹œìŠ¤í…œì€ passwd í•­ëª©ì„ ì°¸ì¡°í•˜ì—¬ ì‚¬ìš©ì ê³„ì • ì •ë³´ë¥¼ ê²€ìƒ‰í•œë‹¤. </li>
</ul>
</li>
</ul>
<pre><code class="language-shell">[root@cowjin1 etc]# cat nsswitch.conf
# Generated by authselect on Sun Feb  9 18:46:51 2025
# Do not modify this file manually.

# If you want to make changes to nsswitch.conf please modify
# /etc/authselect/user-nsswitch.conf and run 'authselect apply-changes'.
#
# Note that your changes may not be applied as they may be
# overwritten by selected profile. Maps set in the authselect
# profile takes always precedence and overwrites the same maps
# set in the user file. Only maps that are not set by the profile
# are applied from the user file.
#
# For example, if the profile sets:
#     passwd: sss files
# and /etc/authselect/user-nsswitch.conf contains:
#     passwd: files
#     hosts: files dns
# the resulting generated nsswitch.conf will be:
#     passwd: sss files # from profile
#     hosts: files dns  # from user file

passwd:     files sss systemd
group:      files sss systemd
netgroup:   sss files
automount:  sss files
services:   sss files

# Included from /etc/authselect/user-nsswitch.conf

#
# /etc/nsswitch.conf
#
# Name Service Switch config file. This file should be
# sorted with the most-used services at the beginning.
#
# Valid databases are: aliases, ethers, group, gshadow, hosts,
# initgroups, netgroup, networks, passwd, protocols, publickey,
# rpc, services, and shadow.
#
# Valid service provider entries include (in alphabetical order):
#
#       compat                  Use /etc files plus *_compat pseudo-db
#       db                      Use the pre-processed /var/db files
#       dns                     Use DNS (Domain Name Service)
#       files                   Use the local files in /etc ğŸ‘ˆ /etc/passwd íŒŒì¼ì—ì„œ ë¨¼ì € ê²€ìƒ‰
#       hesiod                  Use Hesiod (DNS) for user lookups
#       nis                     Use NIS (NIS version 2), also called YP
#       nisplus                 Use NIS+ (NIS version 3)
#
# See `info libc 'NSS Basics'` for more information.
#
# Commonly used alternative service providers (may need installation):
#
#       ldap                    Use LDAP directory server
#       myhostname              Use systemd host names
#       mymachines              Use systemd machine names
#       mdns*, mdns*_minimal    Use Avahi mDNS/DNS-SD
#       resolve                 Use systemd resolved resolver
#       sss                     Use System Security Services Daemon (sssd)ğŸ‘ˆSSSDì„ ì‚¬ìš©í•´ LDAPì´ë‚˜ Active Directoryì—ì„œ ê²€ìƒ‰
#       systemd                 Use systemd for dynamic user option
#       winbind                 Use Samba winbind support
#       wins                    Use Samba wins support
#       wrapper                 Use wrapper module for testing
#
# Notes:
#
#
# WARNING: Running nscd with a secondary caching service like sssd may
#          lead to unexpected behaviour, especially with how long
#          entries are cached.
#
# Installation instructions:
#
# To use 'db', install the appropriate package(s) (provide 'makedb' and
# libnss_db.so.*), and place the 'db' in front of 'files' for entries
# you want to be looked up first in the databases, like this:
#
# passwd:    db files
# shadow:    db files
# group:     db files 
âœ… passwd, shadow, group
file sss: /etc/passwd, /etc/shadow, /etc/group íŒŒì¼ê³¼ SSSDë¥¼ ì‚¬ìš©í•´ ì‚¬ìš©ìì™€ ê·¸ë£¹ ì •ë³´ë¥¼ í™•ì¸


# In order of likelihood of use to accelerate lookup.
shadow:     files sss
hosts:      files dns myhostname 
âœ… hosts: í˜¸ìŠ¤íŠ¸ ì´ë¦„ í•´ì„ì„ ìœ„í•´ /etc/hosts íŒŒì¼, DNS, ê·¸ë¦¬ê³  systemdì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ í™•ì¸ì„ ì‚¬ìš©
- /etc/hosts íŒŒì¼ì— Public IP, Private IP, VIP ì •ë³´ë¥¼ ê¸°ë¡í•˜ê³ , DNS ì„œë²„ë¥¼ í†µí•´ ì¶”ê°€ í™•ì¸


aliases:    files
ethers:     files
gshadow:    files
# Allow initgroups to default to the setting for group.
# initgroups: files
networks:   files dns
âœ… networks: ë„¤íŠ¸ì›Œí¬ ì •ë³´ í•´ì„ ì‹œ /etc/networksíŒŒì¼ê³¼ DNS ì„œë²„ë¥¼ ì‚¬ìš©
protocols:  files
publickey:  files
rpc:        files
</code></pre>
<h3 id="oracle-racì—ì„œ-nsswitchconfì—­í• ">Oracle RACì—ì„œ nsswitch.confì—­í• </h3>
<p><strong>1. í˜¸ìŠ¤íŠ¸ ì´ë¦„ í•´ì„(hosts)</strong></p>
<ul>
<li>ê° ë…¸ë“œ ê°„ Public IP, Private IP, VIPê°€ ì •í™•í•˜ê²Œ í•´ì„ë˜ì–´ì•¼ í´ëŸ¬ìŠ¤í„° í†µì‹ ì´ ì›í™œí•˜ë‹¤. </li>
<li>hosts: file dns ì„¤ì •ì„ í†µí•´ /etc/hosts íŒŒì¼ ë° DNS ì„œë²„ì—ì„œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ í•´ì„í•œë‹¤.</li>
<li><em>2. ì‚¬ìš©ì ê³„ì • ë° ê·¸ë£¹ ê´€ë¦¬*</em> </li>
<li>RACì—ì„œëŠ” ëª¨ë“  ë…¸ë“œì—ì„œ ë™ì¼í•œ oracle ì‚¬ìš©ì ê³„ì • ë° ê·¸ë£¹ ì •ë³´ê°€ í•„ìš”</li>
</ul>
<blockquote>
<ul>
<li>LDAP/ADì—°ë™</li>
</ul>
</blockquote>
<ul>
<li>NIS/NFS í™˜ê²½</li>
<li>í˜¸ìŠ¤íŠ¸ ì´ë¦„ í•´ì„: Oracle Listener ë˜ëŠ” í´ëŸ¬ìŠ¤í„° í™˜ê²½ì—ì„œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ IPë¡œ í•´ì„í•  ë•Œ</li>
<li>RAC í™˜ê²½: Oracle RACì—ì„œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ ë° ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì´ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì—, ì •í™•í•œ ì´ë¦„ í•´ì„ì„ ìœ„í•´ í•„ìš”</li>
<li>DNS ì„¤ì •: hosts: file dns myhostname ì„¤ì • ì‹œ, RAC í™˜ê²½ì—ì„œ í˜¸ìŠ¤íŠ¸ì´ë¦„ì„ DNSë¡œ í•´ì„í•œë‹¤.</li>
</ul>
<h3 id="etchosts-ì˜ˆì‹œ">/etc/hosts ì˜ˆì‹œ</h3>
<pre><code class="language-shell"># Public IP
# 
192.168.0.101  node1-public
192.168.0.102  node2-public

# Private IP (Interconnect)
10.0.0.101    node1-priv
10.0.0.102    node2-priv

# Virtual IP (VIP)
# Virtual IP (VIP): í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ì¥ì•  ì‹œ Failoverë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê°€ìƒ IP.
192.168.0.111  node1-vip
192.168.0.112  node2-vip

# SCAN IP (Single Client Access Name)
192.168.0.121  rac-scan
192.168.0.122  rac-scan
192.168.0.123  rac-scan
## SCAN IP: í´ëŸ¬ìŠ¤í„°ì˜ ì ‘ì† ì£¼ì†Œ. 3ê°œì˜ IPë¥¼ DNS ë¼ìš´ë“œë¡œë¹ˆ ë°©ì‹ìœ¼ë¡œ ì„¤ì •.</code></pre>
<h3 id="rac-ë…¸ë“œ-ê°„-í†µì‹ -vip-ì¥ì• -ë³µêµ¬-ì‹œë‚˜ë¦¬ì˜¤">RAC ë…¸ë“œ ê°„ í†µì‹ / VIP ì¥ì•  ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤</h3>
<p><strong>1. ë…¸ë“œ ê°„ í†µì‹ </strong></p>
<ul>
<li>nsswitch.confì—ì„œ hosts: files dns ì„¤ì •ìœ¼ë¡œ /etc/hostsë¥¼ ìš°ì„  ê²€ìƒ‰.</li>
<li>/etc/hostsì— Public, Private, VIP ì„¤ì • í›„ ping node2-priv ëª…ë ¹ì–´ ì‹¤í–‰.</li>
<li>Private IPê°€ ì •ìƒ ì‘ë‹µ ì‹œ, í´ëŸ¬ìŠ¤í„° í†µì‹  ì›í™œ.</li>
<li><em>2. VIP ì¥ì•  ë³µêµ¬*</em></li>
<li>Node1 ì¥ì•  ì‹œ Node2ê°€ Node1-VIPë¥¼ ì¸ê³„.</li>
<li>hosts: files dns ì„¤ì •ìœ¼ë¡œ DNSì—ì„œ VIP ìƒíƒœ í™•ì¸.</li>
<li>VIPê°€ Node2ë¡œ ì´ë™í–ˆìŒì„ í™•ì¸í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ëŠ” ëŠê¹€ ì—†ì´ ì—°ê²° ìœ ì§€.</li>
</ul>
<h2 id="ìš”ì•½">ìš”ì•½</h2>
<ul>
<li>nsswitch.confëŠ” ì‚¬ìš©ì ì¸ì¦, ë„¤íŠ¸ì›Œí¬ í•´ì„, ì„œë¹„ìŠ¤ ê²€ìƒ‰ì— ì¤‘ìš”í•œ ì—­í• </li>
<li>Oracle í™˜ê²½ì—ì„œ LDAP/ADì™€ ì—°ë™, RAC êµ¬ì„± ì‹œ ë§¤ìš° ì¤‘ìš”</li>
<li>hosts í•­ëª©ì´ /etc/hostsì™€ dnsë¥¼ ìˆœì„œëŒ€ë¡œ ì¡°íšŒí•˜ë„ë¡ ì„¤ì •.</li>
</ul>
<hr />
<h1 id="etcresolvconf">/etc/resolv.conf</h1>
<ul>
<li>DNS ì„œë²„ ì„¤ì • íŒŒì¼ì´ë‹¤. </li>
<li>ì´ íŒŒì¼ì€ ë„ë©”ì¸ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” DNS ì„œë²„ì˜ ì£¼ì†Œë¥¼ ì§€ì •í•œë‹¤.</li>
<li>Oracel RACí™˜ê²½ì—ì„œ, SCAN IPì™€ í˜¸ìŠ¤íŠ¸ ì´ë¦„ í•´ì„ì— ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.</li>
</ul>
<h3 id="ê°œìš”">ê°œìš”</h3>
<ul>
<li>ë„¤íŠ¸ì›Œí¬ ì´ë¦„ í•´ì„ì„ ìœ„í•´ DNS ì„œë²„ ëª©ë¡ì„ ì •ì˜í•œë‹¤.</li>
<li>ë„ë©”ì¸ ì´ë¦„ì„ IPì£¼ì†Œë¡œ ë³€í™˜í•˜ê±°ë‚˜, ê·¸ ë°˜ëŒ€ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.</li>
<li>/etc/nsswitch.confì—ì„œ <code>hosts: files dns</code>ì„¤ì • ì‹œ, DNS ì„œë²„ê°€ <code>/etc/resolv.conf</code>ì— ì •ì˜ëœ ìˆœì„œëŒ€ë¡œ ì¡°íšŒí•œë‹¤.</li>
</ul>
<pre><code class="language-shell">[root@cowjin1 etc]# cat /etc/resolv.conf
# Generated by NetworkManager ğŸ‘ˆ NetworkManagerì— ì˜í•´ ìë™ìœ¼ë¡œ ìƒì„±ëœë‹¤.
nameserver 8.8.8.8
nameserver 210.220.163.82 ğŸ‘ˆ í•œêµ­ì¸í„°ë„·ì§„í¥ì›(KISA) DNSì„œë²„
nameserver 219.250.36.130 ğŸ‘ˆ í•œêµ­í†µì‹ (KT) DNSì„œë²„
</code></pre>
<ul>
<li>nameserver: DNS ì„œë²„ì˜ IPì£¼ì†Œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ìµœëŒ€ 3ê°œê¹Œì§€ ì„¤ì • ê°€ëŠ¥í•˜ë©°, ìˆœì„œëŒ€ë¡œ ì¡°íšŒí•œë‹¤.<ul>
<li>ì²« ë²ˆì§¸ DNS ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•Šìœ¼ë©´ ë‘ ë²ˆì§¸ë¡œ ë„˜ì–´ê°€ê³ , ~ ì„¸ë²ˆì§¸ë¡œ ë„˜ì–´ê°„ë‹¤.</li>
</ul>
</li>
</ul>
<h3 id="oracle-racì—ì„œì˜-ì—­í• ">Oracle RACì—ì„œì˜ ì—­í• </h3>
<ul>
<li>ë…¸ë“œ ê°„ í†µì‹ ê³¼ SCAN IP í•´ì„ì—ì„œ ì •í™•í•œ ì´ë¦„ í•´ì„ì´ ì¤‘ìš”í•˜ë‹¤.</li>
<li>SCAN IP(Single Client Access Name)ì€ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹ìœ¼ë¡œ, ì—¬ëŸ¬ IP ì£¼ì†Œë¥¼ ì œê³µí•˜ì—¬ ë¶€í•˜ ë¶„ì‚° ë° ê³ ê°€ìš©ì„±ì„ ì œê³µí•œë‹¤.</li>
<li>/etc/resolv.confì— ì •ì˜ëœ DNS ì„œë²„ê°€ SCAN IPë¥¼ ì˜¬ë°”ë¥´ê²Œ í•´ì„í•´ì•¼ í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ê°„ í†µì‹ ê³¼ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•œë‹¤.</li>
</ul>
<hr />
<h2 id="ì¶”ê°€ë¡œ-ì°¾ì•„ë³¸-ê²ƒ">ì¶”ê°€ë¡œ ì°¾ì•„ë³¸ ê²ƒ</h2>
<h3 id="ldaplightweight-direcotry-access-protocol">LDAP(Lightweight Direcotry Access Protocol)</h3>
<ul>
<li>ë””ë ‰í„°ë¦¬ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•˜ê³  ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí† ì½œ<h4 id="ì£¼ìš”-ê¸°ëŠ¥">ì£¼ìš” ê¸°ëŠ¥</h4>
</li>
<li>ì‚¬ìš©ì ì¸ì¦: ì‚¬ìš©ì ë¡œê·¸ì¸ ì‹œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¤‘ì•™ ì„œë²„ì—ì„œ ì¸ì¦</li>
<li>ë””ë ‰í„°ë¦¬ ì •ë³´ ê´€ë¦¬: ì‚¬ìš©ì ì •ë³´, ê·¸ë£¹ ì •ë³´, ì´ë©”ì¼ ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ ë“± ì¤‘ì•™ì—ì„œ ê´€ë¦¬</li>
<li>ê¶Œí•œ ê´€ë¦¬: ì‚¬ìš©ì ë° ê·¸ë£¹ì— ë”°ë¼ ì ‘ê·¼ ê¶Œí•œ ë¶€ì—¬<h4 id="ì£¼ìš”-íŠ¹ì§•">ì£¼ìš” íŠ¹ì§•</h4>
</li>
<li>ê³„ì¸µì  êµ¬ì¡°</li>
<li>í‘œì¤€í™”ëœ í”„ë¡œí† ì½œ</li>
<li>ì†ë„ì™€ íš¨ìœ¨ì„±<h4 id="ì‚¬ìš©-ì˜ˆì‹œ">ì‚¬ìš© ì˜ˆì‹œ</h4>
</li>
<li>Active Directory: ìœˆë„ìš° ì„œë²„ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë””ë ‰í„°ë¦¬ ì„œë¹„ìŠ¤ë¡œ LDAP ì‚¬ìš©</li>
<li>Sigle Sign-On (SSO): í•œ ë²ˆ ë¡œê·¸ì¸ìœ¼ë¡œ ì—¬ëŸ¬ ì‹œìŠ¤í…œì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ì¸ì¦ ì‹œìŠ¤í…œ</li>
<li>ì´ë©”ì¼ ì„œë²„<h4 id="ì‘ë™-ë°©ì‹">ì‘ë™ ë°©ì‹</h4>
</li>
<li><ol>
<li>í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­ (ì‚¬ìš©ì ì¸ì¦ ìš”ì²­)</li>
</ol>
</li>
<li><ol start="2">
<li>LDAP ì„œë²„ê°€ ìš”ì²­ ì²˜ë¦¬: DN(ê³ ìœ  ì‹ë³„ì, Distinguished Name)ê³¼ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</li>
</ol>
</li>
<li><ol start="3">
<li>ì‘ë‹µ ë°˜í™˜: ì¸ì¦ ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜</li>
</ol>
</li>
</ul>